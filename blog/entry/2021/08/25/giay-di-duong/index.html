<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Giấy Đi Đường</title>
    <meta name="description" content="vinh's personal profile" />
    <meta name="author" content="nguyenxuanvinh" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#fdf6e3" />

    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <link rel="stylesheet" href="/index.css" />
    <link rel='alternate' type='application/atom+xml' title='Atom (full content)' href='/blog/atom.xml' />
  </head>

  <body>
    <div id="app"><header><div class="pure-g"><div class="pure-u-1"><ul class="navigator"><li class="navigator__item"><a href="/home" class="navigator__link false">vinh</a></li><li class="navigator__item"><a href="/blog" class="navigator__link navigator__link--active">to be continued</a></li><li class="navigator__item"><a href="https://github.com/cavoirom" class="navigator__link">github</a></li></ul></div></div></header><main id="content" class="content"><div class="blog-entry pure-g"><article class="pure-u-1"><header><h1 class="blog-entry__title">Giấy Đi Đường</h1></header><div class="blog-entry__dates">Created 2021-08-25 · Updated 2021-08-25</div><ul class="blog-entry__tags" aria-label="tags"><li class="blog-entry__tag blog-entry__tag__color-4"><a href="/blog/tag/covid-19" aria-label="tag covid-19">covid-19</a></li><li class="blog-entry__tag blog-entry__tag__color-6"><a href="/blog/tag/life" aria-label="tag life">life</a></li><li class="blog-entry__tag blog-entry__tag__color-1"><a href="/blog/tag/saigon" aria-label="tag saigon">saigon</a></li></ul><div class="blog-entry__content"><p><em>Nhân dịp đọc bài viết trên báo VNExpress:
<a href="https://web.archive.org/web/20210824111614/https://vnexpress.net/doanh-nghiep-gap-kho-voi-giay-di-duong-moi-4345490.html" target="_blank" rel="nofollow noreferrer noopener">https://vnexpress.net/doanh-nghiep-gap-kho-voi-giay-di-duong-moi-4345490.html (archived)</a></em></p>
<p>Mình làm Kỹ sư Phần mềm được hơn 7 năm. Vấn đề giấy đi đường giống với vấn đề
cấp quyền (authorization) cho người dùng truy cập vào phần mềm mà ai làm công
nghệ phần mềm điều biết.</p>
<p><strong>Yêu cầu của hệ thống Giấy đi đường theo mình hiểu sẽ như vầy:</strong></p>
<ul>
<li>Chỉ được cấp bởi cơ quan có thẩm quyền.</li>
<li>Mỗi giấy cấp cho 1 người duy nhất với họ tên, thời gian hiệu lực, phạm vi di
chuyển, mục đích...</li>
<li>Giấy phải dễ dàng xác minh là thật hay giả, dễ dàng kiểm tra đúng người, đúng
địa điểm, đúng mục đích...</li>
<li>Mỗi lần kiểm tra phải nhanh chóng, tránh ùn tắc.</li>
</ul>
<p><strong>Vấn đề cần giải quyết:</strong></p>
<ul>
<li>Giấy giả.</li>
<li>Cho mượn giấy.</li>
<li>Dùng sai phạm vi di chuyển (giấy cấp cho đi ở Quận 1 nhưng đi Bình Chánh).</li>
<li>Dùng giấy hết hạn.</li>
<li>Nếu dùng nhân lực để kiểm tra thì sau vài trăm lượt kiểm, ngưi kiểm soát sẽ
không đủ tỉnh táo để kiếm tra kỹ tất cả tiêu chí kể trên.</li>
</ul>
<p>Nếu dùng Công nghệ Thông tin để giải quyết thì đây là bài toán cấp quyền mà ai
cũng quen và biết làm.</p>
<p><strong>Hệ thống cấp giấy đi đường:</strong></p>
<ul>
<li>Hệ thống này tương đương với Identity Server (Máy chủ chứa thông tin chứng
thực người dùng).</li>
<li>Ví dụ cụ thể là Keycloak, phần mềm này dễ dàng cài đặt và có thể mở rộng để
chịu tải nhiều ngàn lượt truy cập cùng lúc.</li>
<li>Máy chủ sẽ được quản lý bởi cơ quan có thẩm quyền.</li>
<li>Các doanh nghiệp cần giấy đi đường sẽ gởi danh sách người cần, cơ quan chức
năng sẽ tạo tài khoản cho từng người rồi gởi thông tin đăng nhập theo E-mail
hoặc niêm phong như cách làm của ngân hàng khi gởi mã bảo mật qua bưu điện.</li>
<li>Phát triển nhanh 1 Mobile App / Web App để người dùng đăng nhập vô Keycloak
lấy về QR Code. QR Code thực chất là 1 JWT (Keycloak hỗ trợ sẵn, ko cần làm gì
thêm), được chứng thực điện tử nên nội dung không thể chỉnh sửa (theo cơ chế
Public Key), nếu sửa rất dễ phát hiện. Nội dung QR Code sẽ là:
<ul>
<li>Họ tên người đi đường.</li>
<li>Phạm vi di chuyển.</li>
<li>Mục đích...</li>
<li>Thời gian hiệu lực, cái này quan trọng, tránh trường hợp tài khoản người này
bị thu hồi mà QR Code vẫn còn hiệu lực. Thời gian hiệu lực của QR Code nên
là 2-3 ngày tới 1 tuần.</li>
</ul></li>
</ul>
<p><strong>Hệ thống kiểm tra:</strong></p>
<ul>
<li>Phát triển Mobile App để đọc QR Code và xác thực thôn tin trên QR Code. App
này nếu làm bằng Flutter thì chỉ mất ít hơn 1 tuần cho cả 2 nền tảng Android /
iOS.</li>
<li>Do &quot;Giấy đi đường&quot; có dùng chữ ký điện tử theo cơ chế Public Key, App chỉ cần
tải Public Key (khóa công khai) từ máy chủ của cơ quan chức năng 1 lần trong
ngày (máy chủ có cơ chế thay đổi Public Key mỗi ngày để tăng tính bảo mật) là
có thể kiểm tra giấy đi đường mà không cần kết nối Internet.</li>
<li>App sẽ đọc QR Code rồi hiển thị thông tin lên điện thoại của người kiểm soát,
người đi đường phải xuất trình giấy tờ khớp với họ tên trên giấy đi đường.</li>
<li>Hạn sử dụng App có thể kiểm tra tự động.</li>
<li>Phạm vi di chuyển có thể kiểm tra tự động. Ví dụ trong giấy ghi phạm vi là
Quận 1, trong khi chốt kiểm tra đang ở Quận Thủ Đức thì App dễ dàng phát hiện
(có thể cài đặt địa điểm của chốt trên App của người kiểm soát).</li>
</ul>
<p><strong>Ưu điểm:</strong></p>
<ul>
<li>Không thể làm giả giấy đi đường do tài khoản được cơ quan chức năng kiểm soát
và tập trung 1 chỗ.</li>
<li>Việc cấp tải khoản diễn ra 1 lần, dễ dàng xác thực, dễ dàng thu hồi, dễ dàng
truy vết sai phạm.</li>
<li>Giấy đi đường được cấp tự động thông qua hệ thống.</li>
<li>Việc kiểm tra giấy đi đường không cần kết nối Internet. Rất tiện cho mọi khu
vực, App kiểm tra giấy đi đường không cần quyền gì đặc biệt từ hệ thống, tăng
tính bảo mật.</li>
<li>Hạn chế tiếp xúc, người kiểm soát và người đi đường không cần tiếp xúc vẫn
kiểm tra đc. Nếu dùng &quot;giấy thật&quot; thì rất có thể phải cầm lên coi mới biết
giấy thật hay giả.</li>
<li>Có thể mở rộng dễ dàng mà không tốn nhiều chi phí. Hệ thống chỉ cần máy chủ
trung tâm được bảo trì tốt, còn lại coi như không tốn gì khác.</li>
</ul>
<p>Mấy giải pháp này không mới, hy vọng nhà nước tận dụng để tăng hiệu quả công
việc.</p>
</div></article></div></main><footer id="footer"><div class="pure-g"><div class="pure-u-1"><hr/><span class="footer__content">Since 2020</span></div></div></footer></div>
    <!-- KEEP SCRIPT AT BOTTOM -->
    <script>
      window.__STATE__ = fetch('/blog/entry/2021/08/25/giay-di-duong/index.json').then(response => response.json());
    </script>
    <script src="/index.js"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function () {
          navigator.serviceWorker.register('/worker.js').then(
            function (registration) {
              // Registration was successful
              console.log('ServiceWorker registration successful with scope: ', registration.scope);
            },
            function (err) {
              // registration failed :(
              console.error('ServiceWorker registration failed: ', err);
            }
          );
        });
      }
    </script>
  </body>
</html>
